# 사전 준비 체크리스트 

| 우선순위 | 해야 할 일                                                                                                                                                                | 비고                                                                                                                                |
| ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| ①    | **개발 환경 구축**`bash<br>python -m venv venv<br>source venv/bin/activate # Windows는 venv\\Scripts\\activate<br>pip install -U pip<br>pip install -r requirements.txt<br>` | Python ≥ 3.10 권장                                                                                                                  |
| ②    | **필수 환경변수 설정**`.env` → `OPENAI_API_KEY=<키>`                                                                                                                           | `python-dotenv` 사용                                                                                                                |
| ③    | **데이터 수집 전략 수립**- 3일 뒤 전달받을 원본- 추가로 크롤링 필요 시 BeautifulSoup / Playwright 활용                                                                                            | 사이트의 주요 메뉴는 “센터소개·사업소개·커뮤니티·새소식”으로 이미 정형화되어 있음([cheonanurc.or.kr](https://www.cheonanurc.or.kr/new?utm_source=chatgpt.com "새소식")) |
| ④    | **텍스트 전처리 규칙** _불필요한 메뉴/푸터 제거_ _문단(약 500–800자) 단위로 Chunk_ _중복·공백 정리_                                                                                                  |                                                                                                                                   |
| ⑤    | **벡터스토어 선택**초기엔 FAISS → 추후 Chroma 또는 PGVector 확장 고려                                                                                                                   |                                                                                                                                   |
| ⑥    | **RAG 파이프라인 설계**Retriever (유사도 + metadata filter) → GPT-4o 답변추가 메타데이터: `section, url, updated_at`                                                                     |                                                                                                                                   |
| ⑦    | **테스트 시나리오 정의**투어·프로그램 FAQ 20개, 일반 문의 10개                                                                                                                             |                                                                                                                                   |
| ⑧    | **향후 확장 계획 문서화**민원 접수 / 템플릿 답변용 테이블, 관리자용 재학습 스크립트 등                                                                                                                  |                                                                                                                                   |

# 프로젝트 디렉토리 
```
cheonan-chatbot/
├─ .env
├─ requirements.txt
├─ README.md
├─ scripts/
│  ├─ ingest.py          # HTML → 텍스트 → 벡터 인덱스
│  └─ refresh.sh         # 데이터 갱신 자동화 예시
├─ app/
│  ├─ main.py            # FastAPI 진입점
│  ├─ config.py
│  ├─ api/
│  │   └─ routes.py
│  ├─ rag/
│  │   ├─ retriever.py   # similarity + metadata filter
│  │   ├─ prompt.py      # 시스템/유저 프롬프트 템플릿
│  │   └─ chatbot.py     # RAG 모듈
│  ├─ loaders/
│  │   └─ cheonan_loader.py  # BeautifulSoup 기반 HTML 로더
│  ├─ data/
│  │   ├─ raw/           # 원본 HTML‧PDF 등
│  │   ├─ processed/     # 전처리된 txt
│  │   └─ index.faiss
│  └─ utils/
│      └─ text_utils.py
└─ tests/
   └─ test_chat.py

```


