### 9:30 회의 진행 
DB내용 먼저 진행
(연구와 관련된 개발을 먼저 우선순위를 둬서 진행)

연구실
## Task

1. GPS 기반 분석 시스템 -  **일정관리**
2. Hardware 시스템 - **일정관리 + 미래 정할 일을 지정하는 것이 중요** 
- 라즈베리파이 + 외 4개
4. 야생동물 제어 시스템 웹
5. 야생동물 제어 시스템 앱
6. 야생동물 탐지 시스템 - **일정관리**
7. 야생동물 데이터 수집 앱


> 단순하게 만들어서 확장하기

## 교수님 피드백
시스템 전반적인 장치bc, 기기db, 워킹?db를 이용해서 웹에 바로 뿌려주는 기능부터 시작하기
- DB를 어떤 그래프를 이용해서 표현할지 고민하기


퇴치기기가 탐지한거
data
devie -> 기기 자체
sound -> 퇴치기기가 사운드를 낸거

-> 



# 📌 ORM(Object Relational Mapping)
# ORM(Object Relational Mapping)

##  ORM이란?
- 객체와 관계형 데이터베이스를 자동으로 매핑해주는 프레임워크
- SQL 대신 객체를 통해 데이터베이스를 조작할 수 있음

##  SQLAlchemy란?
- Python ORM 라이브러리
- SQL 쿼리 없이 객체로 데이터베이스를 조작 가능
- DB 종류와 상관없이 일관된 코드 유지

---

# FastAPI와 MySQL(DB) 연결하기

## 디렉터리 구조
`## 디렉터리 구조`

. ├── app.py ├── models.py └── database.py


```python
# `database.py`
- SQLAlchemy를 통해 데이터베이스 연결

```python
from sqlalchemy import *
from sqlalchemy.orm import sessionmaker

DB_URL = 'mysql+pymysql://{USERNAME}:{PASSWORD}@{HOST}:{PORT}/{DBNAME}'

class engineconn:
    def __init__(self):
        self.engine = create_engine(DB_URL, pool_recycle=500)

    def sessionmaker(self):
        Session = sessionmaker(bind=self.engine)
        return Session()

    def connection(self):
        return self.engine.connect()

```
```
```
---
```python
# `models.py`

## 테이블과 매핑할 모델 정의

from sqlalchemy import Column, TEXT, INT, BIGINT
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class Test(Base):
    __tablename__ = "test"

    id = Column(BIGINT, nullable=False, autoincrement=True, primary_key=True)
    name = Column(TEXT, nullable=False)
    number = Column(INT, nullable=False)
```
```
```

```python
from fastapi import FastAPI
from pydantic import BaseModel
from database import engineconn
from models import Test

app = FastAPI()
engine = engineconn()
session = engine.sessionmaker()

class Item(BaseModel):
    name: str
    number: int

@app.get("/")
async def first_get():
    example = session.query(Test).all()
    return example

```