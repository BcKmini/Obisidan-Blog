read(fd, buffer, nbytes)
fd -> file에 일부분을 메모리에 가져와 읽는것
buffer -> 메모리에 보낸 파일에 주소값
nbytes -> 넣을 공간

	정/동적 할당

## System call
- 시스템 호출(System Call) 
  -  프로그램과 운영체제가 상호작용하기 위한 수단.
  -  프로그램한테 보여지는 운영체제 인터페이스 
  -  이것을 통해 프로그램은 필요로 하는 서비스를 운영체제 커널에  요청한다.
- 시스템 호출 vs 함수 호출 
  - 둘 다 요청한 사항을 수행하고 원래 프로그램으로 복귀한다는  점에서 유사  
  -  시스템 호출: 커널 모드로 전환이 일어남 
  -  함수 호출: 유저 모드에서 계속 수행 (모드 전환 없음)  
- 시스템 호출 방법은 운영체제/기계마다 다름  
  - 어셈블리 언어 수준에서 사용  
  - 고급언어(C언어) 수준에서는 시스템 호출로 이어지는 라이브러리  함수가 제공됨(POSIX 참조)

## Posix
- POSIX(Portable Operating System Interface) 
  -  운영체제간 호환성 유지를 위해 만든 인터페이스 표준
  -  API, Shell 및 Utility 인터페이스
  -  여러 UNIX들 뿐 아니라 다른 운영체제까지도
  -  POSIX를 따르는 운영체제에서 개발한 프로그램을 또 다른  (POSIX를 따르는) 운영체제에서 수행시킬 수 있다. 
- POSIX 함수는 시스템 호출로 이어지기도 함  
  - 그러나 반드시 일대일 관계는 아님



---

![[스크린샷 2025-03-24 09.49.58.png]]

>	1-3: read 함수 인자들 스택 push 
>	4: read 함수 호출 
>	5: syscall 번호(read)를 레지스터에 
>	6: trap 명령에 의해 커널 코드 진입
>	7: syscall 번호로 테이블에서  syscall 핸들러 시작 주소 찾음
>	8: syscall 핸들러 실행 
>	9: syscall 핸들러 완료 후 복귀 
>	10: read 함수 완료 후  사용자 프로그램 복귀  11: 함수로부터 복귀 후  스택포인터 조정